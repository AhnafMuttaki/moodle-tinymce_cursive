{"version":3,"file":"append_fourm_post.min.js","sources":["../src/append_fourm_post.js"],"sourcesContent":["define([\"jquery\", \"core/ajax\", \"core/str\"], function (\n    $,\n    AJAX,\n    str,\n  ) {\n    var usersTable = {\n      init: function (page) {\n        str\n          .get_strings([\n            { key: \"field_require\", component: \"tiny_cursive\" },\n          ])\n          .done(function () {\n            usersTable.getToken(page);\n          });\n      },\n      getToken: function () {\n        //$(\"#fgroup_id_buttonar\").hide();\n        window.console.log(\"Page fourm post\");\n        $('#page-mod-forum-discuss').find( \"article\" ).get().forEach(function(entry) {\n          var ids=$(\"#\"+entry.id).data(\"post-id\");\n          let args={id: ids,modulename:\"forum\"} ;\n          let methodname='cursive_get_comment_link';\n          let com=AJAX.call([{ methodname ,args }]);\n          com[0].done(function (json) {\n            var data = JSON.parse(json);\n            if (data[0].usercomment!='comments') {\n                $(\"#\"+entry.id).find('#post-content-'+ids).append('<div class=\"dropdown\">');\n            //  var tx1='<button class=\"btn dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">Content Sources</button>';\n             // var tx2='<ul class=\"dropdown-menu\">' ;\n              var tt='';\n              data.forEach(element => {\n                tt+='<li>'+element.usercomment +'</li>';\n             // $(\"#\"+entry.id).find('#post-content-'+ids).append( '<li>'+element.usercomment +'</li>' );\n              tt+='<li>'+element.usercomment +'</li>';\n            });\n            $(\"#\"+entry.id).find('#post-content-'+ids).append('<details><summary>Content Sources</summary>'+tt+'</details>');\n            //$(\"#\"+entry.id).find('#post-content-'+ids).append(tx1+tx2+tt+'</ul></div>');\n           // $(\"#\"+entry.id).find('#post-content-'+ids).append( '</ul></div>');\n          }\n          });\n          return com.usercomment;\n      });\n      $('#page-mod-forum-view').find( \"article\" ).get().forEach(function(entry) {\n        var ids=$(\"#\"+entry.id).data(\"post-id\");\n        let args={id: ids } ;\n        let methodname='cursive_get_comment_link';\n        let com=AJAX.call([{ methodname ,args }]);\n        com[0].done(function (json) {\n          var data = JSON.parse(json);\n          window.console.log(data);\n          $(\"#\"+entry.id).find('#post-content-'+ids).append( \"<p><a class='post-link' href='#'>\"+data.usercomment+ids+\"</a></p>\" );\n        });\n        return com.usercomment;\n    });\n      },\n    };\n    return usersTable;\n  });"],"names":["define","$","AJAX","str","usersTable","init","page","get_strings","key","component","done","getToken","window","console","log","find","get","forEach","entry","ids","id","data","args","modulename","com","call","methodname","json","JSON","parse","usercomment","append","tt","element"],"mappings":"AAAAA,wCAAO,CAAC,SAAU,YAAa,aAAa,SACxCC,EACAC,KACAC,SAEIC,WAAa,CACfC,KAAM,SAAUC,MACdH,IACGI,YAAY,CACX,CAAEC,IAAK,gBAAiBC,UAAW,kBAEpCC,MAAK,WACJN,WAAWO,SAASL,UAG1BK,SAAU,WAERC,OAAOC,QAAQC,IAAI,mBACnBb,EAAE,2BAA2Bc,KAAM,WAAYC,MAAMC,SAAQ,SAASC,WAChEC,IAAIlB,EAAE,IAAIiB,MAAME,IAAIC,KAAK,eACzBC,KAAK,CAACF,GAAID,IAAII,WAAW,SAEzBC,IAAItB,KAAKuB,KAAK,CAAC,CAAEC,WADN,2BACkBJ,KAAAA,eACjCE,IAAI,GAAGd,MAAK,SAAUiB,UAChBN,KAAOO,KAAKC,MAAMF,SACG,YAArBN,KAAK,GAAGS,YAAyB,CACjC7B,EAAE,IAAIiB,MAAME,IAAIL,KAAK,iBAAiBI,KAAKY,OAAO,8BAGhDC,GAAG,GACPX,KAAKJ,SAAQgB,UACXD,IAAI,OAAOC,QAAQH,YAAa,QAElCE,IAAI,OAAOC,QAAQH,YAAa,WAElC7B,EAAE,IAAIiB,MAAME,IAAIL,KAAK,iBAAiBI,KAAKY,OAAO,8CAA8CC,GAAG,kBAK9FR,IAAIM,eAEf7B,EAAE,wBAAwBc,KAAM,WAAYC,MAAMC,SAAQ,SAASC,WAC7DC,IAAIlB,EAAE,IAAIiB,MAAME,IAAIC,KAAK,eACzBC,KAAK,CAACF,GAAID,KAEVK,IAAItB,KAAKuB,KAAK,CAAC,CAAEC,WADN,2BACkBJ,KAAAA,eACjCE,IAAI,GAAGd,MAAK,SAAUiB,UAChBN,KAAOO,KAAKC,MAAMF,MACtBf,OAAOC,QAAQC,IAAIO,MACnBpB,EAAE,IAAIiB,MAAME,IAAIL,KAAK,iBAAiBI,KAAKY,OAAQ,oCAAoCV,KAAKS,YAAYX,IAAI,eAEvGK,IAAIM,wBAIR1B"}