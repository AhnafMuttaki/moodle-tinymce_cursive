{"version":3,"file":"show_url_in_quiz_detail.min.js","sources":["../src/show_url_in_quiz_detail.js"],"sourcesContent":["\n/**\n * @module     tiny_cursive/plugin\n * @category TinyMCE Editor\n * @copyright  CTI <info@cursivetechnology.com>\n * @author kuldeep singh <mca.kuldeep.sekhon@gmail.com>\n */\n\ndefine([\"jquery\", \"core/ajax\", \"core/str\"], function (\n    $,\n    AJAX,\n    str,\n  ) {\n    var usersTable = {\n      init: function (page) {\n        str\n          .get_strings([\n            { key: \"field_require\", component: \"tiny_cursive\" },\n          ])\n          .done(function () {\n            usersTable.appendSubmissionDetail(page);\n          });\n      },\n      appendSubmissionDetail: function () {\n       let sub_url= window.location.href;\n          let parm = new URL(sub_url);\n          let attempt_id=parm.searchParams.get('attempt');\n          let args={id: attempt_id,modulename:\"quiz\"} ;\n          let methodname='cursive_get_comment_link';\n          let com=AJAX.call([{ methodname ,args }]);\n          com[0].done(function (json) {\n            var data = JSON.parse(json);\n            let key='questionid';\n            let results= data.reduce((hash, obj) =>{\n                if(obj[key] === undefined) {return hash;}else{\n                return Object.assign(hash, { [obj[key]]:( hash[obj[key]] || [] ).concat(obj)});}\n                }, {});\n                window.console.log(results);\n           Object.entries(results).forEach(result => {\n            var p1='<div class=\"border alert alert-warning\"><details><summary>Content Sources Provided by Student</summary>';\n            let qid=result[0];\n            let  ss =$(\"a[href*=\"+qid+\"]\");\n            if((ss.length== 0)){\n              ss =$(\"input[value*=\"+qid+\"]\");\n            }\n            ss=ss.parent().parent().parent().find('.qtext');\n            window.console.log(ss);\n            result[1].forEach(element =>{\n              p1=p1+'<p>'+element.usercomment+'</p>';\n            });\n            p1=p1+'</details></div>';\n            ss.append( p1);\n        });\n          });\n          return com.usercomment;\n      },\n    };\n   return usersTable;\n  });"],"names":["define","$","AJAX","str","usersTable","init","page","get_strings","key","component","done","appendSubmissionDetail","sub_url","window","location","href","args","id","URL","searchParams","get","modulename","com","call","methodname","json","data","JSON","parse","results","reduce","hash","obj","undefined","Object","assign","concat","console","log","entries","forEach","result","p1","qid","ss","length","parent","find","element","usercomment","append"],"mappings":"AAQAA,8CAAO,CAAC,SAAU,YAAa,aAAa,SACxCC,EACAC,KACAC,SAEIC,WAAa,CACfC,KAAM,SAAUC,MACdH,IACGI,YAAY,CACX,CAAEC,IAAK,gBAAiBC,UAAW,kBAEpCC,MAAK,WACJN,WAAWO,uBAAuBL,UAGxCK,uBAAwB,eACnBC,QAASC,OAAOC,SAASC,KAGtBC,KAAK,CAACC,GAFC,IAAIC,IAAIN,SACCO,aAAaC,IAAI,WACZC,WAAW,QAEhCC,IAAIpB,KAAKqB,KAAK,CAAC,CAAEC,WADN,2BACkBR,KAAAA,eACjCM,IAAI,GAAGZ,MAAK,SAAUe,UAChBC,KAAOC,KAAKC,MAAMH,UAClBjB,IAAI,aACJqB,QAASH,KAAKI,QAAO,CAACC,KAAMC,WACZC,IAAbD,IAAIxB,KAA4BuB,KAC5BG,OAAOC,OAAOJ,KAAM,EAAGC,IAAIxB,OAAQuB,KAAKC,IAAIxB,OAAS,IAAK4B,OAAOJ,QACrE,IACHnB,OAAOwB,QAAQC,IAAIT,SACxBK,OAAOK,QAAQV,SAASW,SAAQC,aAC3BC,GAAG,8GACHC,IAAIF,OAAO,GACVG,GAAI3C,EAAE,WAAW0C,IAAI,KACV,GAAZC,GAAGC,SACLD,GAAI3C,EAAE,gBAAgB0C,IAAI,MAE5BC,GAAGA,GAAGE,SAASA,SAASA,SAASC,KAAK,UACtClC,OAAOwB,QAAQC,IAAIM,IACnBH,OAAO,GAAGD,SAAQQ,UAChBN,GAAGA,GAAG,MAAMM,QAAQC,YAAY,UAElCP,IAAM,mBACNE,GAAGM,OAAQR,UAGNpB,IAAI2B,qBAGX7C"}