{"version":3,"file":"append_participants_table.min.js","sources":["../src/append_participants_table.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     tiny_cursive/append_participants_table\n * @category TinyMCE Editor\n * @copyright  CTI <info@cursivetechnology.com>\n * @author kuldeep singh <mca.kuldeep.sekhon@gmail.com>\n */\n\ndefine([\"jquery\", \"core/config\"], function ($, mdlcfg) {\n  var usersTable = {\n    init: function (page) {\n      usersTable.appendTable(page);\n    },\n    appendTable: function (page) {\n      $(document).ready(function ($) {\n        let h_tr = $('thead').find('tr').get()[0];\n        let bodyid = $('body').attr('class');\n        let classes = bodyid.split(' ');\n        let courseid = parseInt(classes.find((classname) => { return classname.startsWith('course-') }).split('-')[1]);\n        $(h_tr).find('th').eq(6).after('<th>Stats</th>');\n        $('tbody').find(\"tr\").get().forEach(function (tr) {\n          let td_user = $(tr).find(\"td\").get()[0];\n          let userid = $(td_user).find(\"input\").get()[0]?.id;\n          userid = userid?.slice(4);\n          var color = 'font-size:24px;color:black ;text-decoration : none';\n          let link = mdlcfg.wwwroot + \"/lib/editor/tiny/plugins/cursive/writing_report.php?userid=\" + userid + \"&courseid=\" + courseid;\n          var icon = 'fa fa-area-chart';\n          let thunder_icon = '<td><a href=\"' + link + '\" data-id=' + userid + ' class=\"' + icon + '\" style=\"' + color + '\"></a></td>';\n          $(tr).find('td').eq(5).after(thunder_icon);\n        });\n        $(\".page-item ,.header \").on('click', function () {\n          setTimeout(() => {\n            usersTable.init();\n          }, 1800);\n        });\n      });\n    }\n  };\n  return usersTable;\n});"],"names":["define","$","mdlcfg","usersTable","init","page","appendTable","document","ready","h_tr","find","get","classes","attr","split","courseid","parseInt","classname","startsWith","eq","after","forEach","tr","td_user","userid","_$$find$get$","id","_userid","slice","thunder_icon","wwwroot","on","setTimeout"],"mappings":"AAsBAA,gDAAO,CAAC,SAAU,gBAAgB,SAAUC,EAAGC,YACzCC,WAAa,CACfC,KAAM,SAAUC,MACdF,WAAWG,YAAYD,OAEzBC,YAAa,SAAUD,MACrBJ,EAAEM,UAAUC,OAAM,SAAUP,OACtBQ,KAAOR,EAAE,SAASS,KAAK,MAAMC,MAAM,GAEnCC,QADSX,EAAE,QAAQY,KAAK,SACPC,MAAM,KACvBC,SAAWC,SAASJ,QAAQF,MAAMO,WAAuBA,UAAUC,WAAW,aAAcJ,MAAM,KAAK,IAC3Gb,EAAEQ,MAAMC,KAAK,MAAMS,GAAG,GAAGC,MAAM,kBAC/BnB,EAAE,SAASS,KAAK,MAAMC,MAAMU,SAAQ,SAAUC,iCACxCC,QAAUtB,EAAEqB,IAAIZ,KAAK,MAAMC,MAAM,GACjCa,4BAASvB,EAAEsB,SAASb,KAAK,SAASC,MAAM,kCAA/Bc,aAAmCC,GAChDF,uBAASA,iCAAAG,QAAQC,MAAM,OAInBC,aAAe,iBAFR3B,OAAO4B,QAAU,8DAAgEN,OAAS,aAAeT,UAExE,aAAeS,OAAxC,iGACnBvB,EAAEqB,IAAIZ,KAAK,MAAMS,GAAG,GAAGC,MAAMS,iBAE/B5B,EAAE,wBAAwB8B,GAAG,SAAS,WACpCC,YAAW,KACT7B,WAAWC,SACV,qBAKJD"}