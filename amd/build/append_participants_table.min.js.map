{"version":3,"file":"append_participants_table.min.js","sources":["../src/append_participants_table.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     tiny_cursive/append_participants_table\n * @category TinyMCE Editor\n * @copyright  CTI <info@cursivetechnology.com>\n * @author kuldeep singh <mca.kuldeep.sekhon@gmail.com>\n */\n\ndefine([\"jquery\", \"core/ajax\", \"core/str\",\"core/templates\",\"core/config\"], function($, ajax,str,\n  templates,mdlcfg) {\n    var usersTable = {\n      init: function (page) {\n            usersTable.appendTable(page);\n      },\n      appendTable: function(page) {\n        $(document).ready(function($) {\n          let h_tr=$('thead').find('tr').get()[0];\n            $(h_tr).find('th').eq(6).after('<th>Stats</th>');\n            $('tbody').find( \"tr\" ).get().forEach(function(tr){\n              let td_user=$(tr).find(\"td\").get()[0];\n              let userid=$(td_user).find(\"input\").get()[0]?.id;\n              userid=userid?.slice(4);\n              var color='font-size:24px;color:black ;text-decoration : none';\n              let link=mdlcfg.wwwroot+\"/lib/editor/tiny/plugins/cursive/writing_report.php?userid=\"+userid;\n              var icon='fa fa-area-chart';\n              let thunder_icon='<td><a href=\"'+link+'\" data-id='+userid+' class=\"'+icon+'\" style=\"'+color+'\"></a></td>';\n              $(tr).find('td').eq(5).after(thunder_icon);\n              try {\n                var context = {\n                  page: page,\n                };\n                templates\n                  .render(\"tiny_cursive/pop_modal\", context)\n                  .then(function (html) {\n                    $(tr).find('td').eq(5).after(html);\n                  }).catch(e=> window.console.error(e));\n            } catch (error) {\n                window.console.error(error);\n              }\n            });\n            $(\".page-item ,.header \").on('click',function () {\n            setTimeout(() => {\n               usersTable.init();}, 1800);\n            });\n          });\n        }\n    };\n    return usersTable;\n});"],"names":["define","$","ajax","str","templates","mdlcfg","usersTable","init","page","appendTable","document","ready","h_tr","find","get","eq","after","forEach","tr","td_user","userid","_$$find$get$","id","_userid","slice","thunder_icon","wwwroot","context","render","then","html","catch","e","window","console","error","on","setTimeout"],"mappings":"AAsBAA,gDAAO,CAAC,SAAU,YAAa,WAAW,iBAAiB,gBAAgB,SAASC,EAAGC,KAAKC,IAC1FC,UAAUC,YACJC,WAAa,CACfC,KAAM,SAAUC,MACVF,WAAWG,YAAYD,OAE7BC,YAAa,SAASD,MACpBP,EAAES,UAAUC,OAAM,SAASV,OACrBW,KAAKX,EAAE,SAASY,KAAK,MAAMC,MAAM,GACnCb,EAAEW,MAAMC,KAAK,MAAME,GAAG,GAAGC,MAAM,kBAC/Bf,EAAE,SAASY,KAAM,MAAOC,MAAMG,SAAQ,SAASC,iCACzCC,QAAQlB,EAAEiB,IAAIL,KAAK,MAAMC,MAAM,GAC/BM,4BAAOnB,EAAEkB,SAASN,KAAK,SAASC,MAAM,kCAA/BO,aAAmCC,GAC9CF,uBAAOA,iCAAAG,QAAQC,MAAM,OAIjBC,aAAa,iBAFRpB,OAAOqB,QAAQ,8DAA8DN,QAEhD,aAAaA,OAAlC,iGACjBnB,EAAEiB,IAAIL,KAAK,MAAME,GAAG,GAAGC,MAAMS,sBAEvBE,QAAU,CACZnB,KAAMA,MAERJ,UACGwB,OAAO,yBAA0BD,SACjCE,MAAK,SAAUC,MACd7B,EAAEiB,IAAIL,KAAK,MAAME,GAAG,GAAGC,MAAMc,SAC5BC,OAAMC,GAAIC,OAAOC,QAAQC,MAAMH,KACtC,MAAOG,OACLF,OAAOC,QAAQC,MAAMA,WAGzBlC,EAAE,wBAAwBmC,GAAG,SAAQ,WACrCC,YAAW,KACR/B,WAAWC,SAAU,qBAKzBD"}