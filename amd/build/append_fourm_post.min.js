define("tiny_cursive/append_fourm_post",["jquery","core/ajax","core/str"],(function($,AJAX,str){var usersTable={init:function(page){str.get_strings([{key:"field_require",component:"tiny_cursive"}]).done((function(){usersTable.getToken(page)}))},getToken:function(){window.console.log("Page fourm post"),$("#page-mod-forum-discuss").find("article").get().forEach((function(entry){var ids=$("#"+entry.id).data("post-id");let args={id:ids,modulename:"forum"},com=AJAX.call([{methodname:"cursive_get_comment_link",args:args}]);return com[0].done((function(json){var data=JSON.parse(json);if("comments"!=data[0].usercomment){$("#"+entry.id).find("#post-content-"+ids).append('<div class="dropdown">');var tt="";data.forEach((element=>{tt+="<li>"+element.usercomment+"</li>",tt+="<li>"+element.usercomment+"</li>"})),$("#"+entry.id).find("#post-content-"+ids).append("<details><summary>Content Sources</summary>"+tt+"</details>")}})),com.usercomment})),$("#page-mod-forum-view").find("article").get().forEach((function(entry){var ids=$("#"+entry.id).data("post-id");let args={id:ids},com=AJAX.call([{methodname:"cursive_get_comment_link",args:args}]);return com[0].done((function(json){var data=JSON.parse(json);window.console.log(data),$("#"+entry.id).find("#post-content-"+ids).append("<p><a class='post-link' href='#'>"+data.usercomment+ids+"</a></p>")})),com.usercomment}))}};return usersTable}));

//# sourceMappingURL=append_fourm_post.min.js.map