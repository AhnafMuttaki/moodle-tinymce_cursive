define("tiny_cursive/cursive_writing_reports",["jquery","core/ajax","core/str","core/templates","./replay"],(function($,AJAX,str,templates,Replay){const replayInstances={};var usersTable={init:function(page){str.get_strings([{key:"field_require",component:"tiny_cursive"}]).done((function(){$(document).ready((function($){$(".popup_item").on("click",(function(){var mid=$(this).data("id");$("#"+mid).show()})),$(".link_icon").on("click",(function(){var smid=$(this).data("id");$("#"+smid).show()})),$(".video_playback_icon").on("click",(function(){var mid=$(this).data("id"),filepath=$(this).data("filepath");if(filepath){$("#"+mid).show();const replay=new Replay(elementId="output_"+mid,filePath=decodeURIComponent(filepath),speed=10,loop=!1,controllerId="player_"+mid);replayInstances[mid]=replay}else alert("File not found")})),$(".modal-close ").on("click",(function(){$(".modal").hide();var mid=$(this).data("id");replayInstances[mid]&&(replayInstances[mid].stopReplay(),delete replayInstances[mid])}))})),usersTable.getusers(page)}))},getusers:function(page){$("#id_coursename").change((function(){var courseid=$(this).val();AJAX.call([{methodname:"cursive_get_user_list",args:{courseid:courseid}}])[0].done((function(json){var context={tabledata:JSON.parse(json),page:page};templates.render("tiny_cursive/user_list",context).then((function(html){$("#id_username").html(html)}))})),AJAX.call([{methodname:"cursive_get_module_list",args:{courseid:courseid}}])[0].done((function(json){var context={tabledata:JSON.parse(json),page:page};templates.render("tiny_cursive/module_list",context).then((function(html){$("#id_modulename").html(html)}))}))}))}};return usersTable}));

//# sourceMappingURL=cursive_writing_reports.min.js.map